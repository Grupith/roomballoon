(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2974:function(e,s,r){Promise.resolve().then(r.bind(r,9903)),Promise.resolve().then(r.bind(r,1839)),Promise.resolve().then(r.t.bind(r,5737,23)),Promise.resolve().then(r.t.bind(r,8877,23))},1839:function(e,s,r){"use strict";r.r(s),r.d(s,{FirebaseProvider:function(){return x},useFirebase:function(){return m}});var n=r(7437),l=r(2265),t=r(3085),i=r(994),o=r(4086);let a=(0,i.ZF)({apiKey:"AIzaSyCNqkn4TU4Z8EB_4pDWEbV_-4hX8oBpbnY",authDomain:"roomballoon-3218c.firebaseapp.com",projectId:"roomballoon-3218c",storageBucket:"roomballoon-3218c.appspot.com",messagingSenderId:"421190084372",appId:"1:421190084372:web:0d10cd130b9108ae390401",mesurementId:"G-4GJ5SSHF4G"}),c=(0,t.v0)(a),d=(0,o.ad)(a);var h=r(4033);let u=(0,l.createContext)(void 0);function m(){let e=(0,l.useContext)(u);if(!e)throw Error("useFirebase must be used within a FirebaseProvider");return e}function x(e){let{children:s}=e,[r,i]=(0,l.useState)(null);(0,h.useRouter)(),(0,l.useEffect)(()=>{let e=c.onAuthStateChanged(e=>{if(e){i(e);let s=async()=>{let s=(0,o.JU)(d,"users",e.uid),r=await (0,o.QT)(s);r.exists()?console.log("User already exists in database"):(await (0,o.pl)(s,{name:e.displayName,email:e.email,uid:e.uid,created_at:o.EK.now()}),console.log("Added user to the database"))};s()}else i(null)});return()=>e()},[]);let a=async()=>{let e=new t.hJ;try{await (0,t.F6)(c,e)}catch(e){console.error("Google Sign in Error",e)}},m=async()=>{await c.signOut()};return(0,n.jsx)(u.Provider,{value:{user:r,signInWithGoogle:a,signOut:m},children:s})}},9903:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return u}});var n=r(7437),l=r(1396),t=r.n(l),i=r(2265),o=r(1697),a=r(6691),c=r.n(a),d=r(1839),h=r(4033);function u(){let[e,s]=(0,i.useState)(!1),{signOut:r,user:l}=(0,d.useFirebase)(),a=(0,h.useRouter)(),u=(0,i.useRef)(null),m=()=>{s(!e)},x=()=>{l?(r(),a.push("/")):console.log("user not signed in"),s(!1)};return(0,i.useEffect)(()=>{let r=r=>{e&&u.current&&!u.current.contains(r.target)&&s(!1)};return document.addEventListener("click",r),()=>{document.removeEventListener("click",r)}},[e]),(0,n.jsxs)("nav",{className:"fixed w-full top-0 text-white pt-1",children:[(0,n.jsxs)("div",{className:"flex justify-between mx-4 text-xl py-3 ",children:[(0,n.jsxs)(t(),{href:"/",className:"flex items-center",children:[(0,n.jsx)(c(),{src:"/balloonlogo.png",alt:"Balloon Logo",height:35,width:35}),(0,n.jsx)("h1",{className:"font-semibold",children:"RoomBalloon"})]}),(0,n.jsx)("div",{className:"flex items-center sm:hidden",children:l?(0,n.jsx)(c(),{src:null==l?void 0:l.photoURL,width:30,height:30,className:"rounded-full cursor-pointer",alt:"Profile Photo",onClick:m}):(0,n.jsx)("div",{onClick:m,className:"cursor-pointer transition-all relative",children:e?(0,n.jsx)(o.dZD,{size:"25"}):(0,n.jsx)(o.bqP,{size:"25"})})}),(0,n.jsxs)("ul",{className:"hidden sm:flex items-center space-x-6 text-lg font-light",children:[(0,n.jsx)(t(),{href:"/dashboard",className:"transition-all hover:font-normal",children:"Dashboard"}),(0,n.jsx)(t(),{href:"/household",className:"transition-all hover:font-normal",children:"Household"}),(0,n.jsx)(t(),{href:"/settings",className:"transition-all hover:font-normal",children:"Settings"}),(0,n.jsx)("div",{onClick:x,className:"cursor-pointer transition-all hover:font-normal",children:l?(0,n.jsx)("li",{className:"py-2",children:"Sign Out"}):(0,n.jsx)("li",{className:"py-2 line-through",children:"Sign Out"})})]})]}),e&&(0,n.jsx)("div",{ref:u,className:"bg-stone-100 text-gray-800 w-44 absolute top-16 right-4 p-3 rounded-lg shadow-lg",children:(0,n.jsxs)("ul",{className:"font-normal",children:[(0,n.jsx)(t(),{href:"/dashboard",onClick:m,children:(0,n.jsxs)("div",{className:"flex items-center cursor-pointer px-1 hover:bg-gray-300 rounded-md",children:[(0,n.jsx)(o.D3e,{className:"mr-1"}),l?(0,n.jsx)("li",{className:"py-2",children:"Dashboard"}):(0,n.jsx)("li",{className:"py-2 line-through",children:"Dashboard"})]})}),(0,n.jsx)(t(),{href:"/household",onClick:m,children:(0,n.jsxs)("div",{className:"flex items-center cursor-pointer px-1 hover:bg-gray-300 rounded-md",children:[(0,n.jsx)(o.D3e,{className:"mr-1"}),l?(0,n.jsx)("li",{className:"py-2",children:"Household"}):(0,n.jsx)("li",{className:"py-2 line-through",children:"HouseHold"})]})}),(0,n.jsx)(t(),{href:"/settings",onClick:m,children:(0,n.jsxs)("div",{className:"flex items-center cursor-pointer px-1 hover:bg-gray-300 rounded-md",children:[(0,n.jsx)(o.D3e,{className:"mr-1"}),l?(0,n.jsx)("li",{className:"py-2",children:"Settings"}):(0,n.jsx)("li",{className:"py-2 line-through",children:"Settings"})]})}),(0,n.jsxs)("div",{onClick:x,className:"flex items-center cursor-pointer px-1 hover:bg-gray-300 rounded-md",children:[(0,n.jsx)(o.D3e,{className:"mr-1"}),l?(0,n.jsx)("li",{className:"py-2",children:"Sign Out"}):(0,n.jsx)("li",{className:"py-2 line-through",children:"Sign Out"})]})]})})]})}},8877:function(){}},function(e){e.O(0,[358,214,33,316,874,971,864,744],function(){return e(e.s=2974)}),_N_E=e.O()}]);